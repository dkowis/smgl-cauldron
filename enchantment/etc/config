#!/bin/bash

      # path to the ISO system (this should usually be null, unless
      # you are doing some tricky hacking)
      ENCHANT_ISO_PATH="${ENCHANT_ISO_PATH:-}"

          # path to the enchant library modules
          ENCHANT_BASE="${ENCHANT_BASE:-$ENCHANT_ISO_PATH/var/lib/cauldron/}"
          ENCHANT_LIBS="${ENCHANT_LIBS:-$ENCHANT_BASE/enchantment}"

          # where the installer files are located
          ENCHANT_DATA="${ENCHANT_DATA:-$ENCHANT_ISO_PATH/usr/share/enchantment}"
       # location of the install modules (steps)
       ENCHANT_MODULES="${ENCHANT_MODULES:-$ENCHANT_DATA/modules}"
          # location of installer documentation
          ENCHANT_DOCS="${ENCHANT_DOCS:-$ENCHANT_ISO_PATH/usr/share/doc/enchantment}"

           # temp directory used during the install
           ENCHANT_TMP="${ENCHANT_TMP:-$ENCHANT_ISO_PATH/tmp/enchantment}"

        # path where potion state data is stored
        ENCHANT_POTION="${ENCHANT_POTION:-$ENCHANT_TMP/potion}"

        # where the target system is mounted
        ENCHANT_TARGET="${ENCHANT_TARGET:-$ENCHANT_ISO_PATH/mnt/root}"

        # install module (step) info
        ENCHANT_STATUS="${ENCHANT_STATUS:-$ENCHANT_TMP/current_module}"

       # install module history settings
       ENCHANT_HISTORY="${ENCHANT_HISTORY:-$ENCHANT_TMP/history}"
          ENCHANT_BACK="${ENCHANT_BACK:-$ENCHANT_HISTORY/back}"
       ENCHANT_FORWARD="${ENCHANT_FORWARD:-$ENCHANT_HISTORY/forward}"
  # size of history buffers, total size = $ENCHANT_HISTORY * 2 = (back + forward)
  ENCHANT_HISTORY_SIZE="${ENCHANT_HISTORY_SIZE:-20}"

      # path where potion state data is stored
      ENCHANT_HASHFUNC="${ENCHANT_HASHFUNC:-$ENCHANT_ISO_PATH/bin/sha1sum}"

       # path where potion state data is stored
       ENCHANT_ARCHIVE="${ENCHANT_ARCHIVE:-$ENCHANT_ISO_PATH/bin/tar}"
      # path where potion state data is stored
      ENCHANT_COMPRESS="${ENCHANT_COMPRESS:-$ENCHANT_ISO_PATH/bin/gzip}"

         # whether to use color for displaying messages
         ENCHANT_COLOR="${ENCHANT_COLOR:-yes}"


# ISO sorcery config paths
ENCHANT_SORCERY_CONFIG="${ENCHANT_SORCERY_CONFIG:-$ENCHANT_ISO_PATH/etc/sorcery/config}"
  ENCHANT_SORCERY_LIBS="${ENCHANT_SORCERY_LIBS:-$ENCHANT_ISO_PATH/var/lib/sorcery/modules}"

# branch of sorcery to use in the ISO
ENCHANT_SORCERY_BRANCH="${ENCHANT_SORCERY_BRANCH:-stable}"

        HOST_ARCH_PATH=$(grep "ARCH_SPEC=" ${SORCERY_CONFIG} | \
                         cut -d = -f 2)
             HOST_ARCH=$(grep "ARCHITECTURE=" ${HOST_SORCERY_CONFIG} | \
                         cut -d = -f 2)
       CACHE_EXTENSION=$(grep "EXTENSION=" ${HOST_SORCERY_CONFIG} | \
                         cut -d = -f 2)

